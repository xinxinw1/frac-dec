<!DOCTYPE html>
<html>

<head>
  <title>Fraction to Decimal 1.2</title>
  <meta charset="UTF-8">
  <script src="lib/tools/tools.js"></script>
  <script src="lib/prec-math/prec-math.js"></script>
  <script src="frac-dec.js"></script>
  <script>
  function dispDecimal(a, b){
    a = R.real($.rem(/\.$/g, a));
    b = R.real($.rem(/\.$/g, b));
    if ($.falp(a) || $.falp(b) || R.zerop(b)){
      display("", "");
    } else {
      var arr = decimal(a, b);
      display(arr[0], arr[1]);
    }
  }
  
  function display(norep, rep){
    $("norep").innerHTML = norep;
    $("rep").innerHTML = rep;
  }
  </script>
</head>

<body>
  <p>
    <input type="text" id="a" onkeyup="dispDecimal(this.value, $('b').value);" size="4" autocomplete="off">
    /
    <input type="text" id="b" onkeyup="dispDecimal($('a').value, this.value);" size="4" autocomplete="off">
    <input type="submit" style="display: none;">
  </p>
  <p style="white-space: nowrap;">
    = <span id="norep"></span><span id="rep" style="text-decoration: overline;"></span>
  </p>
</body>

</html>
